webpackJsonp([1],{"7Xh6":function(t,e){},BQOy:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App"},s,!1,function(t){a("laTT")},null,null).exports,r=a("/ocq"),o=a("Sazm"),c=a.n(o);c.a.initializeApp({apiKey:"AIzaSyBeNiXM0lzfPjZIZErmJyF65oFZm4GHJFo",authDomain:"admin-e6ff6.firebaseapp.com",databaseURL:"https://admin-e6ff6.firebaseio.com",projectId:"admin-e6ff6",storageBucket:"admin-e6ff6.appspot.com",messagingSenderId:"334304919233"});var u=c.a.database(),l=a("NYxO");n.a.use(l.a),n.a.config.debug=!0;var d=new l.a.Store({state:{purchases:[],showModal:!1},getters:{purchases:function(t){return t.purchases},purchasesNum:function(t){return t.purchases.length},totalPrice:function(t){var e=0;return t.purchases.forEach(function(t){e+=parseFloat(t.price)}),e},showModal:function(t){return t.showModal}},mutations:{addPurchase:function(t,e){t.purchases.push({id:e.id,title:e.title,price:e.price})},deletePurchase:function(t,e){var a=t.purchases.map(function(t){return t.id}).indexOf(e);t.purchases.splice(a,1)},displayModal:function(t){return t.showModal=!0},hideModal:function(t){return t.showModal=!1}}}),p={name:"Purchase",props:["purchase"],store:d,methods:{deletePurchase:function(){var t=this;u.ref("purchases/"+this.purchase.id).remove().then(function(){t.$store.commit("deletePurchase",t.purchase.id)})}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("img",{staticClass:"card-delete",attrs:{src:a("TpOy")},on:{click:t.deletePurchase}}),t._v(" "),n("div",{staticClass:"card-content"},[n("p",{staticClass:"title"},[t._v("\n      "+t._s(t.purchase.title)+"\n    ")]),t._v(" "),n("p",{staticClass:"subtitle"},[t._v("\n      "+t._s(t.purchase.price)+" €\n    ")])])])},staticRenderFns:[]};var m=a("VU/8")(p,v,!1,function(t){a("pSVf")},"data-v-6640a9b0",null).exports,h={name:"add-button",store:d,methods:{buttonClick:function(){this.$store.commit("displayModal")}}},f={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{on:{click:function(e){t.buttonClick()}}},[t._v("New purchase")])},staticRenderFns:[]};var g=a("VU/8")(h,f,!1,function(t){a("bA3x")},"data-v-148b1200",null).exports,M={name:"total",store:d},C={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"total-value"},[this._v("\n  Total: "+this._s(this.$store.getters.totalPrice)+" €\n")])},staticRenderFns:[]};var N=a("VU/8")(M,C,!1,function(t){a("nBgJ")},"data-v-73d2ec94",null).exports,z=u.ref("purchases/"),b={name:"modal",store:d,computed:{purchase:function(){return{id:d.getters.purchasesNum,title:"New purchase "+d.getters.purchasesNum,price:0}}},methods:{closeModal:function(){this.$store.commit("hideModal")},savePurchase:function(){this.purchase.id;z.push({title:this.purchase.title,price:this.purchase.price}),this.purchase.id=this.$store.getters.purchasesNum,this.$store.commit("hideModal")}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal",class:{"is-active":this.$store.getters.showModal}},[a("div",{staticClass:"modal-background"}),t._v(" "),a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.purchase.title,expression:"purchase.title"}],staticClass:"modal-card-title input",domProps:{value:t.purchase.title},on:{input:function(e){e.target.composing||t.$set(t.purchase,"title",e.target.value)}}})]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.purchase.price,expression:"purchase.price"}],staticClass:"input",domProps:{value:t.purchase.price},on:{input:function(e){e.target.composing||t.$set(t.purchase,"price",e.target.value)}}})]),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button is-success",on:{click:function(e){t.savePurchase()}}},[t._v("Save changes")]),t._v(" "),a("button",{staticClass:"button",on:{click:function(e){t.closeModal()}}},[t._v("Cancel")])])])])},staticRenderFns:[]};var _=a("VU/8")(b,P,!1,function(t){a("7Xh6")},"data-v-6d77d81a",null).exports,w={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"spinner"})},staticRenderFns:[]};var j=a("VU/8")({name:"spinner"},w,!1,function(t){a("RsJu")},"data-v-327cc269",null).exports,y=u.ref("purchases/"),I={name:"Container",components:{Purchase:m,AddButton:g,Modal:_,Spinner:j},data:function(){return{loading:!1}},methods:{managePurchases:function(){var t=this;this.loading=!0,y.on("value",function(e){var a=function(a){var n=e.val()[a];t.$store.getters.purchases.some(function(t){return t.id===a})||t.$store.commit("addPurchase",{id:a,title:n.title,price:n.price})};for(var n in e.val())a(n);t.loading=!1})}},created:function(){this.managePurchases()}},L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._l(this.$store.getters.purchases,function(t){return a("purchase",{key:t.id,attrs:{purchase:t}})}),t._v(" "),t.loading?a("spinner"):t._e(),t._v(" "),a("modal"),t._v(" "),t.loading?t._e():a("add-button")],2)},staticRenderFns:[]};var x={name:"navbar",data:function(){return{isActive:!1}},components:{Total:N},methods:{signout:function(){var t=this;c.a.auth().signOut().then(function(){t.$router.replace("login")})}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar is-fixed-top is-primary",attrs:{role:"navigation","aria-label":"main navigation"}},[a("div",{staticClass:"navbar-brand"},[a("div",{staticClass:"navbar-item"},[a("total")],1),t._v(" "),a("button",{staticClass:"button navbar-burger",on:{click:function(e){t.isActive=!t.isActive}}},[a("span"),t._v(" "),a("span"),t._v(" "),a("span")])]),t._v(" "),a("div",{staticClass:"navbar-menu",class:{"is-active":t.isActive}},[a("div",{staticClass:"navbar-end"},[a("a",{staticClass:"navbar-item",on:{click:t.signout}},[t._v("\n               Sign out\n           ")])])])])},staticRenderFns:[]};var T={name:"Home",components:{Container:a("VU/8")(I,L,!1,function(t){a("WTo2")},"data-v-2c993bba",null).exports,Navbar:a("VU/8")(x,D,!1,function(t){a("Y2j8")},"data-v-08bfd029",null).exports}},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("navbar"),this._v(" "),e("div",{staticClass:"content"},[e("container")],1)],1)},staticRenderFns:[]};var Z=a("VU/8")(T,E,!1,function(t){a("BQOy")},"data-v-0a32b03c",null).exports,A={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"notification is-danger"},[this._v("\n    "+this._s(this.message)+"\n")])},staticRenderFns:[]};var U=a("VU/8")({name:"Notification",props:["message"]},A,!1,function(t){a("PBoP")},"data-v-ae9860a2",null).exports,$=(a("162o"),{name:"Login",data:function(){return{email:"",password:"",error:""}},methods:{login:function(){var t=this;c.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(){t.error="",t.$router.replace("home")},function(e){t.error=e.message})}},components:{Notification:U}}),k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("br"),t._v(" "),a("button",{staticClass:"button is-primary",attrs:{type:"submit"},on:{click:function(e){t.login()}}},[t._v("Sign me in")]),t._v(" "),""!=t.error?a("notification",{attrs:{message:t.error}}):t._e()],1)},staticRenderFns:[]};var S=a("VU/8")($,k,!1,function(t){a("UYEF")},"data-v-2c41ef3a",null).exports;n.a.use(r.a);var Y=new r.a({mode:"history",routes:[{path:"/",redirect:"/login"},{path:"/home",name:"Home",component:Z,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:S},{path:"*",redirect:"/login"}]});Y.beforeEach(function(t,e,a){var n=c.a.auth().currentUser,s=t.matched.some(function(t){return t.meta.requiresAuth});s&&!n?a("login"):!s&&n?a("home"):a()});var Q=Y;a("cp0K"),n.a.config.productionTip=!1;var F=void 0;c.a.auth().onAuthStateChanged(function(t){F||(F=new n.a({store:d,el:"#app",router:Q,components:{App:i},template:"<App/>"}))})},PBoP:function(t,e){},RsJu:function(t,e){},TpOy:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDQyNi42NjcgNDI2LjY2NyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDI2LjY2NyA0MjYuNjY3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0iZmlsbDojRjA1MjI4OyIgZD0iTTIxMy4zMzMsMEM5NS41MTQsMCwwLDk1LjUxNCwwLDIxMy4zMzNzOTUuNTE0LDIxMy4zMzMsMjEzLjMzMywyMTMuMzMzDQoJczIxMy4zMzMtOTUuNTE0LDIxMy4zMzMtMjEzLjMzM1MzMzEuMTUzLDAsMjEzLjMzMywweiBNMzMwLjk5NSwyNzYuNjg5bC01NC4zMDIsNTQuMzA2bC02My4zNi02My4zNTZsLTYzLjM2LDYzLjM2bC01NC4zMDItNTQuMzENCglsNjMuMzU2LTYzLjM1NmwtNjMuMzU2LTYzLjM2bDU0LjMwMi01NC4zMDJsNjMuMzYsNjMuMzU2bDYzLjM2LTYzLjM1Nmw1NC4zMDIsNTQuMzAybC02My4zNTYsNjMuMzZMMzMwLjk5NSwyNzYuNjg5eiIvPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo="},UYEF:function(t,e){},WTo2:function(t,e){},Y2j8:function(t,e){},bA3x:function(t,e){},cp0K:function(t,e){},laTT:function(t,e){},nBgJ:function(t,e){},pSVf:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2765ddc02024941a5ed5.js.map