webpackJsonp([1],{En26:function(t,e){},I7IU:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App"},n,!1,function(t){a("laTT")},null,null).exports,r=a("/ocq"),c=a("Sazm"),o=a.n(c);o.a.initializeApp({apiKey:"AIzaSyBeNiXM0lzfPjZIZErmJyF65oFZm4GHJFo",authDomain:"admin-e6ff6.firebaseapp.com",databaseURL:"https://admin-e6ff6.firebaseio.com",projectId:"admin-e6ff6",storageBucket:"admin-e6ff6.appspot.com",messagingSenderId:"334304919233"});var u=o.a.database(),l=a("NYxO");s.a.use(l.a),s.a.config.debug=!0;var d=new l.a.Store({state:{purchases:[],showModal:!1,user:null},getters:{purchases:function(t){return t.purchases},purchasesNum:function(t){return t.purchases.length},totalPrice:function(t){var e=0;return t.purchases.forEach(function(t){e+=parseFloat(t.price)}),e},showModal:function(t){return t.showModal},user:function(t){return t.user}},mutations:{addPurchase:function(t,e){t.purchases.push({id:e.id,title:e.title,price:e.price})},deletePurchase:function(t,e){var a=t.purchases.map(function(t){return t.id}).indexOf(e);t.purchases.splice(a,1)},displayModal:function(t){return t.showModal=!0},hideModal:function(t){return t.showModal=!1},setUser:function(t,e){t.user=e}}}),p={name:"Purchase",props:["purchase"],store:d,methods:{deletePurchase:function(){var t=this;u.ref("purchases/"+d.getters.user.uid+"/"+this.purchase.id).remove().then(function(){t.$store.commit("deletePurchase",t.purchase.id)})}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("img",{staticClass:"card-delete",attrs:{src:a("TpOy")},on:{click:t.deletePurchase}}),t._v(" "),s("div",{staticClass:"card-content"},[s("p",{staticClass:"title"},[t._v("\n      "+t._s(t.purchase.title)+"\n    ")]),t._v(" "),s("p",{staticClass:"subtitle"},[t._v("\n      "+t._s(t.purchase.price)+" €\n    ")])])])},staticRenderFns:[]};var h=a("VU/8")(p,v,!1,function(t){a("S83X")},"data-v-afce42c2",null).exports,m={name:"add-button",store:d,methods:{buttonClick:function(){this.$store.commit("displayModal")}}},f={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"fab",on:{click:this.buttonClick}},[this._v(" + ")])},staticRenderFns:[]};var g=a("VU/8")(m,f,!1,function(t){a("s/Qn")},"data-v-0a322644",null).exports,M={name:"total",store:d},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"total-value"},[this._v("\n  Total: "),e("span",[this._v(this._s(this.$store.getters.totalPrice)+" €")])])},staticRenderFns:[]};var z=a("VU/8")(M,C,!1,function(t){a("I7IU")},"data-v-ab09b59e",null).exports,N={name:"modal",store:d,computed:{purchase:function(){return{id:d.getters.purchasesNum,title:"",price:null}}},methods:{closeModal:function(){this.$store.commit("hideModal")},savePurchase:function(){var t=u.ref("purchases/"+d.getters.user.uid);this.purchase.id;t.push({title:this.purchase.title,price:this.purchase.price}),this.purchase.id=this.$store.getters.purchasesNum,this.$store.commit("hideModal")}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal",class:{"is-active":this.$store.getters.showModal}},[a("div",{staticClass:"modal-background"}),t._v(" "),a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.purchase.title,expression:"purchase.title"}],staticClass:"modal-card-title input is-primary",attrs:{placeholder:"E.g: Cereal"},domProps:{value:t.purchase.title},on:{input:function(e){e.target.composing||t.$set(t.purchase,"title",e.target.value)}}})]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.purchase.price,expression:"purchase.price"}],staticClass:"input is-primary",attrs:{placeholder:"E.g: 42"},domProps:{value:t.purchase.price},on:{input:function(e){e.target.composing||t.$set(t.purchase,"price",e.target.value)}}})]),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button is-primary",on:{click:function(e){t.savePurchase()}}},[t._v("Save changes")]),t._v(" "),a("button",{staticClass:"button is-danger",on:{click:function(e){t.closeModal()}}},[t._v("Cancel")])])])])},staticRenderFns:[]};var P={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"spinner"})},staticRenderFns:[]};var _={name:"Container",components:{Purchase:h,AddButton:g,Modal:a("VU/8")(N,b,!1,function(t){a("kIbx")},"data-v-0595f0a0",null).exports,Spinner:a("VU/8")({name:"spinner"},P,!1,function(t){a("RsJu")},"data-v-327cc269",null).exports},data:function(){return{loading:!1}},methods:{managePurchases:function(){var t=this,e=u.ref("purchases/"+d.getters.user.uid);this.loading=!0,e.on("value",function(e){var a=function(a){var s=e.val()[a];t.$store.getters.purchases.some(function(t){return t.id===a})||t.$store.commit("addPurchase",{id:a,title:s.title,price:s.price})};for(var s in e.val())a(s);t.loading=!1})}},created:function(){this.managePurchases()}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[this._l(this.$store.getters.purchases,function(t){return e("purchase",{key:t.id,attrs:{purchase:t}})}),this._v(" "),this.loading?e("spinner"):this._e(),this._v(" "),e("modal"),this._v(" "),e("add-button")],2)},staticRenderFns:[]};var I={name:"navbar",data:function(){return{isActive:!1}},components:{Total:z},methods:{signout:function(){var t=this;o.a.auth().signOut().then(function(){t.$router.replace("/STracker/login")})}}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar is-fixed-top",attrs:{role:"navigation","aria-label":"main navigation"}},[a("div",{staticClass:"navbar-brand"},[a("div",{staticClass:"navbar-item"},[a("total")],1),t._v(" "),a("button",{staticClass:"button navbar-burger",on:{click:function(e){t.isActive=!t.isActive}}},[a("span"),t._v(" "),a("span"),t._v(" "),a("span")])]),t._v(" "),a("div",{staticClass:"navbar-menu",class:{"is-active":t.isActive}},[a("div",{staticClass:"navbar-end"},[a("a",{staticClass:"navbar-item",on:{click:t.signout}},[t._v("\n               Sign out\n           ")])])])])},staticRenderFns:[]};var y={name:"Home",components:{Container:a("VU/8")(_,w,!1,function(t){a("fxbc")},"data-v-5e764a02",null).exports,Navbar:a("VU/8")(I,j,!1,function(t){a("tZTt")},"data-v-609887f4",null).exports}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("navbar"),this._v(" "),e("div",{staticClass:"content"},[e("container")],1)],1)},staticRenderFns:[]};var T=a("VU/8")(y,L,!1,function(t){a("O8ft")},"data-v-3a011c6e",null).exports,x={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"notification is-danger"},[this._v("\n    "+this._s(this.message)+"\n")])},staticRenderFns:[]};var D=a("VU/8")({name:"Notification",props:["message"]},x,!1,function(t){a("PBoP")},"data-v-ae9860a2",null).exports,k=(a("162o"),{name:"Login",data:function(){return{email:"",password:"",error:""}},methods:{login:function(){var t=this;o.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(){t.error="",t.$router.replace("/STracker/home")},function(e){t.error=e.message})}},components:{Notification:D}}),E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("br"),t._v(" "),a("button",{staticClass:"button is-primary",attrs:{type:"submit"},on:{click:function(e){t.login()}}},[t._v("Sign me in")]),t._v(" "),""!=t.error?a("notification",{attrs:{message:t.error}}):t._e()],1)},staticRenderFns:[]};var Z=a("VU/8")(k,E,!1,function(t){a("En26")},"data-v-693e0702",null).exports;s.a.use(r.a);var S=new r.a({mode:"history",routes:[{path:"/",redirect:"/STracker/login"},{path:"/STracker/home",name:"Home",component:T,meta:{requiresAuth:!0}},{path:"/STracker/login",name:"Login",component:Z},{path:"*",redirect:"/STracker/login"}]});S.beforeEach(function(t,e,a){var s=o.a.auth().currentUser,n=t.matched.some(function(t){return t.meta.requiresAuth});n&&!s?a("/STracker/login"):!n&&s?a("/STracker/home"):a()});var U=S;a("cp0K"),s.a.config.productionTip=!1;var A=void 0;o.a.auth().onAuthStateChanged(function(t){d.commit("setUser",t),A||(A=new s.a({store:d,el:"#app",router:U,components:{App:i},template:"<App/>"}))})},O8ft:function(t,e){},PBoP:function(t,e){},RsJu:function(t,e){},S83X:function(t,e){},TpOy:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDQyNi42NjcgNDI2LjY2NyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDI2LjY2NyA0MjYuNjY3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0iZmlsbDojRjA1MjI4OyIgZD0iTTIxMy4zMzMsMEM5NS41MTQsMCwwLDk1LjUxNCwwLDIxMy4zMzNzOTUuNTE0LDIxMy4zMzMsMjEzLjMzMywyMTMuMzMzDQoJczIxMy4zMzMtOTUuNTE0LDIxMy4zMzMtMjEzLjMzM1MzMzEuMTUzLDAsMjEzLjMzMywweiBNMzMwLjk5NSwyNzYuNjg5bC01NC4zMDIsNTQuMzA2bC02My4zNi02My4zNTZsLTYzLjM2LDYzLjM2bC01NC4zMDItNTQuMzENCglsNjMuMzU2LTYzLjM1NmwtNjMuMzU2LTYzLjM2bDU0LjMwMi01NC4zMDJsNjMuMzYsNjMuMzU2bDYzLjM2LTYzLjM1Nmw1NC4zMDIsNTQuMzAybC02My4zNTYsNjMuMzZMMzMwLjk5NSwyNzYuNjg5eiIvPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo="},cp0K:function(t,e){},fxbc:function(t,e){},kIbx:function(t,e){},laTT:function(t,e){},"s/Qn":function(t,e){},tZTt:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.62a39001d5ae3eb66d40.js.map